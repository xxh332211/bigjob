define(['jquery','common'],function () {
//交互逻辑 -s
	//更多按钮逻辑
	$('.option .show_more').on('click', function(event) {
		var content_ul = $(this).parent('.option').siblings('ul');
		if(content_ul.hasClass('hide_part')){
			content_ul.removeClass('hide_part');
			$(this).children('b').html('隐藏').siblings('i').removeClass('icon-xia').addClass('icon-shang')
		}else if (!content_ul.hasClass('hide_part')) {
			content_ul.addClass('hide_part');
			$(this).children('b').html('更多').siblings('i').removeClass('icon-shang').addClass('icon-xia')
		}
	});
	//多选按钮逻辑
	$('.option .mul_chose').on('click', function(event) {
		var content_ul = $(this).parent('.option').siblings('ul');
		if(content_ul.hasClass('multichose_true')){
			//取消多选
			content_ul.removeClass('multichose_true').addClass('multichose_false');
			$(this).children('b').html('多选').siblings('i').removeClass('icon-jian').addClass('icon-add')			
			content_ul.children('.selected').removeClass('selected')
		}else if (!content_ul.hasClass('multichose_true')) {
			//开始多选
			content_ul.addClass('multichose_true').removeClass('multichose_false');
			$(this).children('b').html('取消').siblings('i').removeClass('icon-add').addClass('icon-jian')
		}
	});

	//多选选中
	$("body").on('click',".multichose_true .word",function(event) {
		var hadselected = $(this).hasClass('selected');
		if(hadselected){
			$(this).removeClass('selected');
		}else if (!hadselected) {
			$(this).addClass('selected');
		}
	});

	//单选选中 
	$("body").on('click',".multichose_false li",function(event) {
		var hadselected = $(this).hasClass('selected');
		if(hadselected){
			$(this).removeClass('selected');

		}else if (!hadselected) {
			$(this).addClass('selected').siblings('li').removeClass('selected');
		}
	});

	//更多属性下拉


	//状态筛选
	$("body").on('click', '.status_filter_top dl dd', function(event) {
		$(this).addClass('selected').siblings('dd').removeClass('selected');
	});
	$("body").on('click', '.status_filter_bottom ul li', function(event) {	
		if(!$(this).hasClass('selected')) {
			$(this).addClass('selected').siblings('li').removeClass('selected');
		}else if ($(this).hasClass('selected')){
			$(this).removeClass('selected');
		}
	});

	//滚动后,筛选置顶和隐藏
	$(window).scroll(function(event) {
		if($(window).scrollTop()>275){
			if(!$(".status_filter").hasClass('fixtop')){
				$(".status_filter").addClass('fixtop')
			}
		}
		if($(window).scrollTop()<275){
			if($(".status_filter").hasClass('fixtop')){
				$(".status_filter").removeClass('fixtop');
			}
		}
	});
	//次级条件
	$("body").on('click', '.dropdown_ul .title', function(event) {
		event.preventDefault();
		event.stopPropagation();
		if(!$(this).hasClass('chose_subfilter')) {
			$(this).addClass('chose_subfilter').siblings('.title').removeClass('chose_subfilter')
		}else if ($(this).hasClass('chose_subfilter')) {
			$(this).removeClass('chose_subfilter')
		}
	});
	//阻止事件冒泡
	$('body').on('click', '.dropdown_ul .subfilter_single', function(event) {
		event.stopPropagation();
		/* Act on the event */
	});




	$(".status_filter_top .price>input").focus(function(event) {
		if($(".status_filter_top .confirm_log").hasClass('hide')){
			$(".status_filter_top .confirm_log").removeClass('hide');
		}
	});
	$(".status_filter_top .price .search_cancel").on('click', function(event) {
			$(".status_filter_top .price>input").val("")
	});

	//阻断事件冒泡
	$(".status_filter_top .price").on('click', function(event) {
		event.preventDefault();
		event.stopPropagation();
	});
	$("body").on('click', function(event) {
		if(!$(".status_filter_top .confirm_log").hasClass('hide')){
			$(".status_filter_top .confirm_log").addClass('hide');
		}
	});
//交互逻辑 -e
});